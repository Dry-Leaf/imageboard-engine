<!DOCTYPE html>
<html>

<head>
    <title>test</title>
     <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/resources/base.css">
    <link rel="stylesheet" href="/resources/default.css">
    <script async src="/resources/htmx.js" defer></script>
    <noscript><style> .prev { display: none !important} </style></noscript>

<style>{{$name := .BoardN}}
{{range .Posts}}{{if .File}}
.p{{.Id}} {--mini: url('/{{$name}}/Files/{{.Imgprev}}'); --maxi: url('/{{$name}}/Files/{{.File}}');}{{end}}{{end}}
</style>
</head>

<body>
{{$Descs := .HeaderDescs}}
<p class="headerblock">{{range $index, $name := .Header}}
    <a class="header" href="/{{$name}}" title="{{index $Descs $index}}">/{{$name}}/</a> {{end}}
    <a class="header" href="/" title="front page">home</a>
</p><br>

<center>
<img class="bannerimg" src="/resources/banners/cbanner.webp" height="100" width="300">
<p class="boardinfo">/{{.BoardN}}/ - {{.BoardDesc}}</p></td>
</center>
<hr>

<a class="navi" href="/{{.BoardN}}/">Return</a>
<a class="navi" href="/{{.BoardN}}/catalog.html">Catalog</a><br><br>
{{if .Posts}}{{$sub:= .Subject}}{{range slice .Posts 0 1}}
        <threadwrap>
            <div id="no{{.Id}}" class="thread"><tr><td>

                    <label>File <a href="Files/{{.File}}" download="{{.Filename}}">{{.Filename}}</a> - ({{.Fileinfo}})</label>
                    <br>
                    <input type="checkbox" class="image imspec p{{.Id}}" autocomplete="off"/>
                    <label>{{if $sub}}<subject>{{$sub}}</subject>{{end}} <time>{{.Time}}</time> <selfref><a href="#no{{.Id}}">No. {{.Id}}</a></selfref></label>
                    <div class="pcontent">{{.Content}}</div>

            </div>
        </threadwrap>{{end}}
{{range slice .Posts 1}}
    <postwrap>
        <div id="no{{.Id}}" class="post">

                    <label><time class="{{.Option}}">{{.Time}}</time> <selfref><a href="#no{{.Id}}">No. {{.Id}}</a></selfref>{{if .Replies}}{{range .Replies}}<ref class="reply"><a href="#no{{.}}">&gt;&gt;{{.}}</a></ref>{{end}}{{end}}</label>
                    <br>
                    {{if .File}}<label>File <a href="Files/{{.File}}" download="{{.Filename}}">{{.Filename}}</a> - ({{.Fileinfo}})</label>
                    <br>
                    <input type="checkbox" class="image imspec p{{.Id}}" autocomplete="off"/>{{end}}
                    {{if .Content}}<div class="pcontent">{{.Content}}</div>{{end}}

        </div>
    </postwrap>
{{end}}{{end}}
    <form action="/im/post/?parent={{.Parent}}&board={{.BoardN}}" enctype="multipart/form-data" method="Post">
        <input type="checkbox" name="option" value="sage">
        <textarea name="newpost" rows="8" cols="78">I'm putting the new post box at the bottom.</textarea>
        <br>
        <input type="file" name="file" accept="image/png, image/jpeg, image/gif, image/webp">
        <input type="submit" value="Reply">
    </form>
</body>
</html>
