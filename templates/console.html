<!DOCTYPE html>
<html>

<head>
    <title>Console</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="/resources/base.css">
    <link rel="stylesheet" href="/resources/console.css">
    <link rel="stylesheet" href="/resources/default.css">
    <script async src="/resources/htmx.js" defer></script>
    <noscript><style> .prev { display: none !important} </style></noscript>

<style>
{{range .Posts}}{{if .File}}{{if imagecheck .Filemime}}
.p{{.Id}}{{.BoardN}} {--mini: url('/{{.BoardN}}/Files/{{.Imgprev}}'); --maxi: url('/{{.BoardN}}/Files/{{.File}}');}{{end}}{{end}}{{end}}

input {
    border: none;
}

admbox threadwrap .post {
    margin: 0;
}
</style>
</head>

<body>
{{if .Posts}}
    <admbox>
        <threadwrap>
            <box class="controls">
                Master Controls<br>
                test
            </box>
        </threadwrap>
    </admbox>

{{range .Posts}}
    <admbox>
        <threadwrap>
            <box class="controls">
                {{.BoardN}}
                <form action="/im/mod/" enctype="multipart/form-data" method = "Post">
                    <input type="hidden" name="parents" value="{{.Parent}}">
                    <input type="hidden" name="ids" value="{{.Id}}">
                    <input type="hidden" name="boards" value="{{.BoardN}}">
                    <input type="submit" name="actions" value="Delete">
                    <input type="submit" name="actions" value="Delete File">
                    Days: <input type="text" name="days" size="1" value="4">
                    Hours: <input type="text" name="hours" size="1" value="0">
                    Message: <input type="text" name="message" value="USER WAS BANNED FOR THIS POST">
                    <input type="submit" name="actions" value="Ban">
                    <input type="submit" name="actions" value="Ban and Delete">
                    <input type="submit" name="actions" value="Ban and Delete All by User">
                    {{if eq .Id .Parent}}<br><br>
                    <input type="submit" name="actions" value="Lock">
                    <input type="submit" name="actions" value="Pin">
                    <input type="submit" name="actions" value="Unlock">
                    <input type="submit" name="actions" value="Unpin">{{end}}
                </form>
            </box>
        </threadwrap>

        <threadwrap>
            <div id="no{{.Id}}" class="post" {{if eq .Id .Parent}}style="background-color: inherit;"{{end}}>

                    <label class="{{.Option}}"><time>{{.Time}}</time> <selfref><a href="/{{.BoardN}}/{{.Parent}}.html#no{{.Id}}">No. {{.Id}}</a></selfref></label>
                    <br>
                    {{if .File}}<label>File <a href="/{{.BoardN}}/Files/{{.File}}" download="{{.Filename}}">{{.Filename}}</a> - ({{.Fileinfo}})</label>
                    <br>
                    {{if avcheck .Filemime}}<video controls poster={{if eq .Imgprev "audio_image.webp"}}'/resources/audio_image.webp'{{else}}'/{{.BoardN}}/Files/{{.Imgprev}}'{{end}}><source src='/{{.BoardN}}/Files/{{.File}}' type= '{{.Filemime}}'></video>{{else}}<input type="checkbox" class="image imspec p{{.Id}}{{.BoardN}}" autocomplete="off"/>{{end}}{{end}}
                    {{if .Content}}<div class="pcontent">{{.Content}}</div>{{end}}

            </div>
        </threadwrap>
    </admbox>
{{end}}{{end}}

</body>
</html>